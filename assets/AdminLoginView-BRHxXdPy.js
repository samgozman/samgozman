import{d as _,r,b as g,B as p,S as w,e as l,i as f,a as e,u as v,k as n,t as i,f as k,F as x,o as c,l as b}from"./index-B6SeSYah.js";const B={class:"w-full"},y=["href"],N=e("ion-icon",{name:"logo-github",class:"text-xl"},null,-1),S={key:0,role:"alert",class:"alert alert-error mt-4"},V=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),A=e("strong",null,"Message:",-1),C=e("strong",null,"Code:",-1),L=_({__name:"AdminLoginView",setup(M){window.document.title="Login | Sam Gozman";const u=60*1e3,d="3a1bed516b6eda760936",o=r(),s=r();return g(async()=>{const a=new URLSearchParams(window.location.search).get("code");if(a)try{const t=await p.login(a);if(!t.ok){o.value=t.code,s.value=t.message;return}const h=new Date().getTime()+u;w.set("token",t.token,h)}catch(t){o.value="unexpected-error",s.value=t}}),(m,a)=>(c(),l(x,null,[f(b,{value:"ðŸ‘¾ Admin login."}),e("div",B,[e("a",{class:"btn",href:`https://github.com/login/oauth/authorize?client_id=${v(d)}`},[N,n(" Authenticate with GitHub ")],8,y),o.value&&s.value?(c(),l("div",S,[V,e("span",null,[A,n(" "+i(s.value)+". ",1),C,n(" "+i(o.value)+". ",1)])])):k("",!0)])],64))}});export{L as default};
//# sourceMappingURL=AdminLoginView-BRHxXdPy.js.map
