import{d as g,r,e as p,B as w,S as f,b as l,g as v,a as e,u as k,k as n,t as i,f as b,F as x,h as B,o as c,l as y}from"./index-BCn36ubb.js";const N={class:"w-full"},S=["href"],V=e("ion-icon",{name:"logo-github",class:"text-xl"},null,-1),A={key:0,role:"alert",class:"alert alert-error mt-4"},C=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),M=e("strong",null,"Message:",-1),z=e("strong",null,"Code:",-1),T=g({__name:"AdminLoginView",setup(L){window.document.title="Login | Sam Gozman";const u=B(),d=60*1e3,m="3a1bed516b6eda760936",o=r(),s=r();return p(async()=>{const a=new URLSearchParams(window.location.search).get("code");if(a)try{const t=await w.login(a);if(!t.ok){o.value=t.code,s.value=t.message;return}const _=new Date().getTime()+d;f.set("token",t.token,_),u.push({name:"admin-dashboard"})}catch(t){o.value="unexpected-error",s.value=t}}),(h,a)=>(c(),l(x,null,[v(y,{value:"ðŸ‘¾ Admin login."}),e("div",N,[e("a",{class:"btn",href:`https://github.com/login/oauth/authorize?client_id=${k(m)}`},[V,n(" Authenticate with GitHub ")],8,S),o.value&&s.value?(c(),l("div",A,[C,e("span",null,[M,n(" "+i(s.value)+". ",1),z,n(" "+i(o.value)+". ",1)])])):b("",!0)])],64))}});export{T as default};
//# sourceMappingURL=AdminLoginView-CsVpC9T7.js.map
