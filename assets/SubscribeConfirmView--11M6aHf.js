import{d as h,r as s,b as _,B as m,e as c,i as u,w as b,_ as y,u as l,F as v,o as r,t as k,j as w,a as x}from"./index-D2ybWhyp.js";const g=x("h2",null,"Subscription confirmation:",-1),C={key:0,class:"text-error"},S={key:1},E=h({__name:"SubscribeConfirmView",setup(B){window.document.title="Subscription status  | Sam Gozman";const f="196c72be-eff9-4389-b0bc-f588455611e9",t=s(""),a=s(),e=s(""),p=o=>{t.value=o},d=()=>{t.value=""};return _(async()=>{if(!a.value)return;const n=new URL(window.location.href).searchParams.get("token");if(!n){e.value="Invalid token";return}try{if(await a.value.executeAsync(),!(await m.confirmSubscription(n,t.value)).ok)return;e.value=""}catch(i){e.value="Failed to confirm subscription",console.error(i)}}),(o,n)=>(r(),c(v,null,[u(y,null,{default:b(()=>[g,e.value?(r(),c("p",C,k(e.value),1)):(r(),c("p",S,"You have successfully subscribed to my blog! ðŸ§¡"))]),_:1}),u(l(w),{ref_key:"captcha",ref:a,sitekey:l(f),size:"invisible",onVerify:p,onExpired:d},null,8,["sitekey"])],64))}});export{E as default};
//# sourceMappingURL=SubscribeConfirmView--11M6aHf.js.map
