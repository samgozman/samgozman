import{d as h,r as s,e as _,B as m,b as r,g as u,w as y,_ as v,u as l,F as k,o as c,t as b,j as w,a as g}from"./index-4X-1JekA.js";const x=g("h2",null,"Subscription confirmation:",-1),C={key:0,class:"text-error"},S={key:1},E=h({__name:"SubscribeConfirmView",setup(B){window.document.title="Subscription status  | Sam Gozman";const f="10000000-ffff-ffff-ffff-000000000001",t=s(""),a=s(),e=s(""),p=o=>{t.value=o},d=()=>{t.value=""};return _(async()=>{if(!a.value)return;const n=new URL(window.location.href).searchParams.get("token");if(!n){e.value="Invalid token";return}try{if(await a.value.executeAsync(),!(await m.confirmSubscription(n,t.value)).ok)return;e.value=""}catch(i){e.value="Failed to confirm subscription",console.error(i)}}),(o,n)=>(c(),r(k,null,[u(v,null,{default:y(()=>[x,e.value?(c(),r("p",C,b(e.value),1)):(c(),r("p",S,"You have successfully subscribed to my blog! ðŸ§¡"))]),_:1}),u(l(w),{ref_key:"captcha",ref:a,sitekey:l(f),size:"invisible",onVerify:p,onExpired:d},null,8,["sitekey"])],64))}});export{E as default};
//# sourceMappingURL=SubscribeConfirmView-B3NBw_Ui.js.map
