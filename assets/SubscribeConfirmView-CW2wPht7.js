import{d as _,e as d,r as n,b as m,B as b,f as r,j as u,w as y,_ as k,u as l,F as v,o as c,t as w,k as x,a as S}from"./index-DVeLQdnf.js";const g=S("h2",null,"Subscription confirmation:",-1),C={key:0,class:"text-error"},B={key:1},F=_({__name:"SubscribeConfirmView",setup(V){d({title:"Subscription status | Sam Gozman"});const f="196c72be-eff9-4389-b0bc-f588455611e9",a=n(""),t=n(),e=n(""),p=o=>{a.value=o},h=()=>{a.value=""};return m(async()=>{if(!t.value)return;const s=new URL(window.location.href).searchParams.get("token");if(!s){e.value="Invalid token";return}try{if(await t.value.executeAsync(),!(await b.confirmSubscription(s,a.value)).ok)return;e.value=""}catch(i){e.value="Failed to confirm subscription",console.error(i)}}),(o,s)=>(c(),r(v,null,[u(k,null,{default:y(()=>[g,e.value?(c(),r("p",C,w(e.value),1)):(c(),r("p",B,"You have successfully subscribed to my blog! ðŸ§¡"))]),_:1}),u(l(x),{ref_key:"captcha",ref:t,sitekey:l(f),size:"invisible",onVerify:p,onExpired:h},null,8,["sitekey"])],64))}});export{F as default};
//# sourceMappingURL=SubscribeConfirmView-CW2wPht7.js.map
